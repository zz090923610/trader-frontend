<!DOCTYPE html>
<html lang="en">
<script  type="text/javascript">
    socket = new WebSocket('ws://127.0.0.1:8888/websocket');

    socket.onmessage = function (evt)
    {
        var received_msg = evt.data;
        if(received_msg === "active")
            document.getElementById("status").innerHTML = "active";
        if(received_msg === "login_success")
            document.getElementById("status").innerHTML = "login success";
    };
    socket.connect();


    function myFunction() {
        var radios = document.getElementsByName('directionRadios');
        var direction = "None";
        for (var i = 0, length = radios.length; i < length; i++)
        {
            if (radios[i].checked)
            {
                // do whatever you want with the checked radio
                direction = radios[i].value;

                // only one radio can be logically checked, don't check the rest
                break;
            }
        }
        var symbol = document.getElementById("symbol").value;
        var price = document.getElementById("price").value;
        var quantity = document.getElementById("quantity").value;
        var action_grps = [direction, symbol, price, quantity];
        var action_str = action_grps.join("_");
        //alert(action_str);
        socket.send("trade/" + action_str);

    }

    function restartRemote() {
        socket.send("exit/remote" );

    }
</script>


<head>
    <meta charset="UTF-8">
    <title>Trader</title>
    <link rel="stylesheet" href="assets/vendor/bootstrap/bootstrap.min.css">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">


    <!-- Google Fonts -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700">
    <!-- CSS Global Compulsory -->
    <link rel="stylesheet" href="assets/vendor/bootstrap/bootstrap.min.css">
    <link rel="stylesheet" href="assets/vendor/icon-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="assets/vendor/icon-line-pro/style.css">
    <link rel="stylesheet" href="assets/vendor/animate.css">

    <!-- CSS Unify -->
    <link rel="stylesheet" href="assets/css/unify-core.css">
    <link rel="stylesheet" href="assets/css/unify-components.css">
    <link rel="stylesheet" href="assets/css/unify-globals.css">

    <!-- CSS Customization -->
    <link rel="stylesheet" href="assets/css/custom.css">
</head>
<body>




<main>
    <!-- Login -->
    <section class="g-min-height-100vh g-flex-centered g-bg-lightblue-radialgradient-circle">
        <div class="container g-py-100">
            <div class="row justify-content-center">
                <div class="col-sm-8 col-lg-5">
                    <div class="u-shadow-v24 g-bg-white rounded g-py-40 g-px-30">



                        <div class="card card-inverse bg-primary text-white rounded-0">
                            <h3 class="card-header h5" id="status">
                                <i class="fa fa-tasks g-font-size-default g-mr-5"></i>
                                Connecting...
                            </h3>

                        </div>
                        <!-- General Controls -->
                        <form class="g-brd-around g-brd-gray-light-v4 g-pa-30">
                            <div class="form-group">
                                <label for="symbol">Symbol</label>
                                <input type="text" class="form-control rounded-0 form-control-md" id="symbol" >
                            </div>

                            <div class="form-group">
                                <label for="price">Price</label>
                                <input type="text" class="form-control rounded-0 form-control-md" id="price" >
                            </div>

                            <div class="form-group ">
                                <label for="quantity">Quantity</label>
                                <input type="text" class="form-control rounded-0 form-control-md" id="quantity" >
                            </div>

                            <fieldset class="form-group">
                                <legend class="g-font-size-default">Direction</legend>
                                <div class="form-check btn btn-md u-btn-red">
                                    <label class="form-check-label">
                                        <input type="radio" class="form-check-input mr-1" name="directionRadios" id="directionRadios1" value="buy">Long(Buy)
                                    </label>
                                </div>
                                <div class="form-check btn btn-md u-btn-teal">
                                    <label class="form-check-label">
                                        <input type="radio" class="form-check-input mr-1" name="directionRadios" id="directionRadios2" value="sell">Short(Sell)
                                    </label>
                                </div>

                            </fieldset>
                            <button onclick="myFunction()" class="btn btn-md u-btn-primary rounded-0">Submit</button>
                            <button onclick="restartRemote()" class="btn btn-md u-btn-primary rounded-0">Restart Backend</button>
                        </form>
                        <!-- End General Controls -->


                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- End Login -->
</main>










<!-- JS Global Compulsory -->
<script src="assets/vendor/jquery/jquery.min.js"></script>
<script src="assets/vendor/jquery-migrate/jquery-migrate.min.js"></script>
<script src="assets/vendor/popper.min.js"></script>
<script src="assets/vendor/bootstrap/bootstrap.min.js"></script>


<!-- JS Unify -->
<script src="assets/js/hs.core.js"></script>

<!-- JS Customization -->
<script src="assets/js/custom.js"></script>
</body>
</html>